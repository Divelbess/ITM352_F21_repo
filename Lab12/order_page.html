<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <form name="quantity_form" action="display_purchase.html" method="GET">
    <label>quantity desired:</label>
    <input id="quantity_textbox1" type="text" onkeyup="checkQuantityTextbox(this, qty_textbox_message1);">
    <span id='qty_textbox_message1'>Enter a quantity</span>
    <br>
    <input type="button" value="Purchase" onclick="displayPurchase();"></form>
</body>

</html>
<script>
        function checkQuantityTextbox(theTextbox, theMsgSpan) {
        // is the textboxvalue a non-neg int?
                var errors_array=isNonNegInt(theTextbox.value, true);
                theMsgSpan.innerHTML = errors_array.join(' ');

    }
    function isNonNegInt(q, returnErrors = false) {
        errors = [];
        if(q == '') q=0;
        if (Number(q) != q) errors.push('Not a number!');
        else{

      
        if (q < 0) errors.push('Negative value!');
        if (parseInt(q) != q) errors.push('Not an integer!'); 
    }
        return returnErrors ? errors : (errors.length == 0) 
    }
    function displayPurchase() {
        var qty = quantity_textbox1.value;
        var err=isNonNegInt(qty, true );
        if(err.length ==0){
        document.getElementsByTagName('body')[0].innerHTML = `Thank you for ordering ${qty} things!`;
}    
    else{
        qty_textbox_message1.innerHTML =`<font color ="red">${err.join('')} Enter a valid quantity </font>`;
    }
}

</script>